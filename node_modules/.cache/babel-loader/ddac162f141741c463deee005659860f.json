{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport firebase from \"@/firebase/firebase\";\nexport default {\n  mounted: function mounted() {\n    this.auth = JSON.parse(sessionStorage.getItem(\"user\"));\n  },\n  data: function data() {\n    return {\n      drawer: null,\n      links: [[\"mdi-inbox-arrow-down\", \"Inbox\", \"/\"], [\"mdi-send\", \"About\", \"/about\"], [\"mdi-delete\", \"Trash\", \"/\"], [\"mdi-alert-octagon\", \"Spam\", \"/\"]],\n      auth: null\n    };\n  },\n  methods: {\n    logout: function logout() {\n      var _this = this;\n\n      firebase.auth().signOut().then(function () {\n        localStorage.message = \"ログアウトしました\";\n\n        _this.$router.push(\"/login\");\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    changeIcon: function changeIcon() {\n      this.$refs.fileInput.click();\n    },\n    updateIcon: function updateIcon() {\n      var user = this.getAuth();\n\n      if (!user) {\n        sessionStorage.removeItem(\"user\");\n        this.$router.push(\"/login\");\n      }\n\n      var file = this.$refs.fileInput.files[0];\n      console.log(file); //    const filePath = `/user/${file.name}`;\n      //    firebase\n      //     .storage()\n      //     .ref()\n      //     .child(filePath)\n      //     .put(file)\n      //     .then((snapshot) => {\n      //      console.log(\"snapshot\", snapshot);\n      //     });\n    },\n    getAuth: function getAuth() {\n      return firebase.auth().onAuthStateChanged(function (user) {\n        return user;\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AAEA;AACAA,SADA,qBACA;AACA;AACA,GAHA;AAIAC;AAAA;AACAC,kBADA;AAEAC,cACA,sCADA,EAEA,+BAFA,EAGA,4BAHA,EAIA,kCAJA,CAFA;AAQAC;AARA;AAAA,GAJA;AAcAC;AACAC,UADA,oBACA;AAAA;;AACAC,eACAH,IADA,GAEAI,OAFA,GAGAC,IAHA,CAGA;AACAC;;AACA;AACA,OANA,EAOAC,KAPA,CAOA;AACAC;AACA,OATA;AAUA,KAZA;AAaAC,cAbA,wBAaA;AACA;AACA,KAfA;AAgBAC,cAhBA,wBAgBA;AACA;;AACA;AACAC;AACA;AACA;;AAEA;AACAH,wBARA,CASA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAnCA;AAoCAI,WApCA,qBAoCA;AACA;AACA;AACA,OAFA;AAGA;AAxCA;AAdA","names":["mounted","data","drawer","links","auth","methods","logout","firebase","signOut","then","localStorage","catch","console","changeIcon","updateIcon","sessionStorage","getAuth"],"sourceRoot":"src/components/layouts","sources":["SideBar.vue"],"sourcesContent":["<template>\n <div id=\"app\">\n  <v-navigation-drawer v-model=\"drawer\" app>\n   <v-sheet color=\"grey lighten-4\" class=\"pa-4\">\n    <v-avatar color=\"indigo\">\n     <input\n      type=\"file\"\n      ref=\"fileInput\"\n      accept=\"image/jpeg, image/jpg, image/png\"\n      style=\"display: none\"\n      @change=\"updateIcon\"\n     />\n\n     <v-icon dark @click=\"changeIcon\"> mdi-account-circle </v-icon>\n    </v-avatar>\n\n    <div class=\"username\">{{ auth && auth.displayName }}</div>\n   </v-sheet>\n\n   <v-divider></v-divider>\n\n   <v-list>\n    <v-list-item v-for=\"[icon, text, to] in links\" :key=\"icon\" :to=\"to\" link>\n     <v-list-item-icon>\n      <v-icon>{{ icon }}</v-icon>\n     </v-list-item-icon>\n\n     <v-list-item-content>\n      <v-list-item-title>{{ text }}</v-list-item-title>\n     </v-list-item-content>\n    </v-list-item>\n\n    <v-list-item @click=\"logout\">\n     <v-list-item-icon>\n      <v-icon> mdi-logout </v-icon>\n     </v-list-item-icon>\n\n     <v-list-item-content>\n      <v-list-item-title>Logout</v-list-item-title>\n     </v-list-item-content>\n    </v-list-item>\n   </v-list>\n  </v-navigation-drawer>\n </div>\n</template>\n\n<script>\nimport firebase from \"@/firebase/firebase\";\n\nexport default {\n mounted() {\n  this.auth = JSON.parse(sessionStorage.getItem(\"user\"));\n },\n data: () => ({\n  drawer: null,\n  links: [\n   [\"mdi-inbox-arrow-down\", \"Inbox\", \"/\"],\n   [\"mdi-send\", \"About\", \"/about\"],\n   [\"mdi-delete\", \"Trash\", \"/\"],\n   [\"mdi-alert-octagon\", \"Spam\", \"/\"],\n  ],\n  auth: null,\n }),\n methods: {\n  logout() {\n   firebase\n    .auth()\n    .signOut()\n    .then(() => {\n     localStorage.message = \"ログアウトしました\";\n     this.$router.push(\"/login\");\n    })\n    .catch((error) => {\n     console.log(error);\n    });\n  },\n  changeIcon() {\n   this.$refs.fileInput.click();\n  },\n  updateIcon() {\n   const user = this.getAuth();\n   if (!user) {\n    sessionStorage.removeItem(\"user\");\n    this.$router.push(\"/login\");\n   }\n\n   const file = this.$refs.fileInput.files[0];\n   console.log(file);\n   //    const filePath = `/user/${file.name}`;\n\n   //    firebase\n   //     .storage()\n   //     .ref()\n   //     .child(filePath)\n   //     .put(file)\n   //     .then((snapshot) => {\n   //      console.log(\"snapshot\", snapshot);\n   //     });\n  },\n  getAuth() {\n   return firebase.auth().onAuthStateChanged((user) => {\n    return user;\n   });\n  },\n },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}