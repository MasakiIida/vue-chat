{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport firebase from \"@/firebase/firebase\";\nexport default {\n  async created() {\n    this.roomId = this.$route.query.room_id;\n    console.log(\"roomId\", this.roomId);\n    const roomRef = firebase.firestore().collection(\"rooms\").doc(this.roomId);\n    const roomDoc = await roomRef.get();\n\n    if (!roomDoc.exists) {\n      await this.$router.push(\"/\");\n    }\n\n    this.room = roomDoc.data();\n    console.log(\"room\", this.room);\n  },\n\n  data: () => ({\n    messages: [],\n    body: \"\",\n    roomId: \"\",\n    room: null,\n    drawer: null,\n    dialog: false,\n    n: \"\",\n    auth: null\n  }),\n  computed: {\n    invalid() {\n      if (!this.body) {\n        return true;\n      }\n\n      return false;\n    }\n\n  },\n  methods: {\n    deleteRoom() {\n      const room_id = this.$route.query.room_id;\n      firebase.firestore().collection(\"rooms\").doc(room_id).delete(this.body).then(() => {\n        console.log(room_id, \"は削除されました\");\n        this.$router.push(\"/\");\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AAEA;AACA;AACA;AACAA;AAEA;AACA;;AACA;AACA;AACA;;AACA;AACAA;AACA,GAZA;;AAaAC;AACAC,gBADA;AAEAC,YAFA;AAGAC,cAHA;AAIAC,cAJA;AAKAC,gBALA;AAMAC,iBANA;AAOAC,SAPA;AAQAC;AARA,IAbA;AAuBAC;AACAC;AACA;AACA;AACA;;AACA;AACA;;AANA,GAvBA;AA+BAC;AACAC;AACA;AACAC,eACAC,SADA,GAEAC,UAFA,CAEA,OAFA,EAGAC,GAHA,CAGAC,OAHA,EAIAC,MAJA,CAIA,SAJA,EAKAC,IALA,CAKA;AACApB;AACA;AACA,OARA;AASA;;AAZA;AA/BA","names":["console","data","messages","body","roomId","room","drawer","dialog","n","auth","computed","invalid","methods","deleteRoom","firebase","firestore","collection","doc","room_id","delete","then"],"sourceRoot":"src/components/modal","sources":["DeleteRoom.vue"],"sourcesContent":["<template>\n <v-row justify=\"center\">\n  <v-dialog v-model=\"dialog\" max-width=\"290\">\n   <template v-slot:activator=\"{ on, attrs }\">\n    <v-btn\n     class=\"delete-button\"\n     color=\"error\"\n     elevation=\"0\"\n     fab\n     small\n     v-bind=\"attrs\"\n     v-on=\"on\"\n     ><v-icon>mdi-trash-can</v-icon>\n    </v-btn>\n   </template>\n   <v-card>\n    <v-card-title class=\"text-h6\">ルームを削除しますか？</v-card-title>\n    <v-card-actions>\n     <v-spacer></v-spacer>\n     <v-btn color=\"\" text @click=\"dialog = false\"> キャンセル </v-btn>\n     <v-btn\n      color=\"error\"\n      @click=\"\n       deleteRoom();\n       dialog = false;\n      \"\n     >\n      削除\n     </v-btn>\n    </v-card-actions>\n   </v-card>\n  </v-dialog>\n </v-row>\n</template>\n\n<script>\nimport firebase from \"@/firebase/firebase\";\n\nexport default {\n async created() {\n  this.roomId = this.$route.query.room_id;\n  console.log(\"roomId\", this.roomId);\n\n  const roomRef = firebase.firestore().collection(\"rooms\").doc(this.roomId);\n  const roomDoc = await roomRef.get();\n  if (!roomDoc.exists) {\n   await this.$router.push(\"/\");\n  }\n  this.room = roomDoc.data();\n  console.log(\"room\", this.room);\n },\n data: () => ({\n  messages: [],\n  body: \"\",\n  roomId: \"\",\n  room: null,\n  drawer: null,\n  dialog: false,\n  n: \"\",\n  auth: null,\n }),\n computed: {\n  invalid() {\n   if (!this.body) {\n    return true;\n   }\n   return false;\n  },\n },\n methods: {\n  deleteRoom() {\n   const room_id = this.$route.query.room_id;\n   firebase\n    .firestore()\n    .collection(\"rooms\")\n    .doc(room_id)\n    .delete(this.body)\n    .then(() => {\n     console.log(room_id, \"は削除されました\");\n     this.$router.push(\"/\");\n    });\n  },\n },\n};\n</script>\n\n<style>\n.delete-button {\n position: absolute;\n top: 8px;\n right: 20px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}