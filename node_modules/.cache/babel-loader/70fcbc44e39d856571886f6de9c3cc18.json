{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport firebase from \"@/firebase/firebase\";\nimport SideBar from \"@/components/layouts/SideBar\";\nimport CreateRoom from \"@/components/modal/CreateRoom\";\nexport default {\n  components: {\n    SideBar,\n    CreateRoom\n  },\n  data: () => ({\n    rooms: [],\n    drawer: null,\n    roomId: []\n  }),\n\n  mounted() {\n    this.getRooms();\n  },\n\n  methods: {\n    async getRooms() {\n      this.rooms = [];\n      const roomRef = firebase.firestore().collection(\"rooms\");\n      const snapshot = await roomRef.get();\n      console.log(\"snapshot\", snapshot);\n      snapshot.docs.map(doc => {\n        const data = { ...doc.data()\n        };\n        data.id = doc.id;\n        console.log(data);\n        this.rooms.push(data);\n      });\n      console.log(this.rooms);\n    },\n\n    created() {\n      firebase.firestore().collection(\"rooms\").orderBy(\"createdAt\", \"asc\").get().then(snapshot => {\n        snapshot.forEach(doc => {\n          this.roomId.push({ ...doc.data(),\n            id: doc.id\n          });\n        });\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACAA;AACAC,WADA;AAEAC;AAFA,GADA;AAKAC;AACAC,aADA;AAEAC,gBAFA;AAGAC;AAHA,IALA;;AAUAC;AACA;AACA,GAZA;;AAaAC;AACA;AACA;AACA;AACA;AACAC;AAEAC;AACA;AAAA;AACAP;AACAM;AACA;AACA,OALA;AAMAA;AACA,KAdA;;AAeAE;AACAC,eACAC,SADA,GAEAC,UAFA,CAEA,OAFA,EAGAC,OAHA,CAGA,WAHA,EAGA,KAHA,EAIAC,GAJA,GAKAC,IALA,CAKAP;AACAA;AACA;AAAAQ;AAAA;AACA,SAFA;AAGA,OATA;AAUA;;AA1BA;AAbA","names":["components","SideBar","CreateRoom","data","rooms","drawer","roomId","mounted","methods","console","snapshot","created","firebase","firestore","collection","orderBy","get","then","id"],"sourceRoot":"src/views","sources":["RoomList.vue"],"sourcesContent":["<template>\n <v-app id=\"inspire\">\n  <v-app-bar app>\n   <v-app-bar-nav-icon @click=\"drawer = !drawer\"></v-app-bar-nav-icon>\n   <v-toolbar-title>ルーム</v-toolbar-title>\n  </v-app-bar>\n  <v-navigation-drawer v-model=\"drawer\" app light>\n   <SideBar />\n  </v-navigation-drawer>\n  <v-main>\n   <v-container>\n    <v-row>\n     <v-col cols=\"6\" sm=\"4\">\n      <CreateRoom />\n     </v-col>\n     <v-col v-for=\"room in rooms\" :key=\"room.id\" cols=\"6\" sm=\"4\">\n      <router-link\n       class=\"room-name\"\n       :to=\"{ path: '/chat', query: { room_id: room.id } }\"\n      >\n       <v-avatar color=\"grey lighten-2\" size=\"128\">\n        <v-icon x-large v-if=\"!room.thumbnailUrl\"> mdi-home </v-icon>\n        <!-- <img\n         src=\"https://cdn.vuetifyjs.com/images/john.jpg\"\n         v-if=\"!room.thumbnailUrl\"\n        /> -->\n        <img :src=\"room.thumbnailUrl\" v-if=\"room.thumbnailUrl\" />\n       </v-avatar>\n       <h2 class=\"room-name\">{{ room ? room.name : \"\" }}</h2>\n      </router-link>\n     </v-col>\n    </v-row>\n   </v-container>\n  </v-main>\n </v-app>\n</template>\n\n<script>\nimport firebase from \"@/firebase/firebase\";\nimport SideBar from \"@/components/layouts/SideBar\";\nimport CreateRoom from \"@/components/modal/CreateRoom\";\nexport default {\n components: {\n  SideBar,\n  CreateRoom,\n },\n data: () => ({\n  rooms: [],\n  drawer: null,\n  roomId: [],\n }),\n mounted() {\n  this.getRooms();\n },\n methods: {\n  async getRooms() {\n   this.rooms = [];\n   const roomRef = firebase.firestore().collection(\"rooms\");\n   const snapshot = await roomRef.get();\n   console.log(\"snapshot\", snapshot);\n\n   snapshot.docs.map((doc) => {\n    const data = { ...doc.data() };\n    data.id = doc.id;\n    console.log(data);\n    this.rooms.push(data);\n   });\n   console.log(this.rooms);\n  },\n  created() {\n   firebase\n    .firestore()\n    .collection(\"rooms\")\n    .orderBy(\"createdAt\", \"asc\")\n    .get()\n    .then((snapshot) => {\n     snapshot.forEach((doc) => {\n      this.roomId.push({ ...doc.data(), id: doc.id });\n     });\n    });\n  },\n },\n};\n</script>\n\n<style>\n.room-name {\n color: #333;\n text-decoration: none;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}