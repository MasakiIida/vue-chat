{"ast":null,"code":"import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport RoomList from \"../views/RoomList.vue\";\nimport ChatBoard from \"../views/ChatBoard.vue\";\nimport LoginView from \"../views/LoginView.vue\";\nimport SignUp from \"../views/SignUp.vue\";\nimport firebase from \"@/firebase/firebase\";\nVue.use(VueRouter);\nconst routes = [{\n  path: \"/\",\n  name: \"RoomList\",\n  component: RoomList,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/chat\",\n  name: \"ChatBoard\",\n  component: ChatBoard\n}, {\n  path: \"/login\",\n  name: \"LoginView\",\n  component: LoginView\n}, {\n  path: \"/signup\",\n  name: \"SignUp\",\n  component: SignUp\n}];\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  const requiresAuth = to.matched.some(record => record.meta.requiresAuth);\n\n  if (requiresAuth) {\n    firebase.auth().onAuthStateChanged(user => {\n      if (!user) {\n        next({\n          path: \"/login\",\n          query: {\n            redirect: to.fullPath\n          }\n        });\n      } else {\n        next();\n      }\n    });\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"sources":["/Users/masakiiida/Documents/Project/Portfolio/vue-chat/src/router/index.js"],"names":["Vue","VueRouter","RoomList","ChatBoard","LoginView","SignUp","firebase","use","routes","path","name","component","meta","requiresAuth","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","matched","some","record","auth","onAuthStateChanged","user","query","redirect","fullPath"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,QAAP,MAAqB,qBAArB;AAEAN,GAAG,CAACO,GAAJ,CAAQN,SAAR;AAEA,MAAMO,MAAM,GAAG,CACd;AACCC,EAAAA,IAAI,EAAE,GADP;AAECC,EAAAA,IAAI,EAAE,UAFP;AAGCC,EAAAA,SAAS,EAAET,QAHZ;AAICU,EAAAA,IAAI,EAAE;AAAEC,IAAAA,YAAY,EAAE;AAAhB;AAJP,CADc,EAOd;AACCJ,EAAAA,IAAI,EAAE,OADP;AAECC,EAAAA,IAAI,EAAE,WAFP;AAGCC,EAAAA,SAAS,EAAER;AAHZ,CAPc,EAYd;AACCM,EAAAA,IAAI,EAAE,QADP;AAECC,EAAAA,IAAI,EAAE,WAFP;AAGCC,EAAAA,SAAS,EAAEP;AAHZ,CAZc,EAiBd;AACCK,EAAAA,IAAI,EAAE,SADP;AAECC,EAAAA,IAAI,EAAE,QAFP;AAGCC,EAAAA,SAAS,EAAEN;AAHZ,CAjBc,CAAf;AAwBA,MAAMS,MAAM,GAAG,IAAIb,SAAJ,CAAc;AAC5Bc,EAAAA,IAAI,EAAE,SADsB;AAE5BC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFU;AAG5BX,EAAAA;AAH4B,CAAd,CAAf;AAMAM,MAAM,CAACM,UAAP,CAAkB,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;AACrC,QAAMV,YAAY,GAAGQ,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAiBC,MAAD,IAAYA,MAAM,CAACd,IAAP,CAAYC,YAAxC,CAArB;;AACA,MAAIA,YAAJ,EAAkB;AACjBP,IAAAA,QAAQ,CAACqB,IAAT,GAAgBC,kBAAhB,CAAoCC,IAAD,IAAU;AAC5C,UAAI,CAACA,IAAL,EAAW;AACVN,QAAAA,IAAI,CAAC;AACJd,UAAAA,IAAI,EAAE,QADF;AAEJqB,UAAAA,KAAK,EAAE;AAAEC,YAAAA,QAAQ,EAAEV,EAAE,CAACW;AAAf;AAFH,SAAD,CAAJ;AAIA,OALD,MAKO;AACNT,QAAAA,IAAI;AACJ;AACD,KATD;AAUA,GAXD,MAWO;AACNA,IAAAA,IAAI;AACJ;AACD,CAhBD;AAkBA,eAAeT,MAAf","sourcesContent":["import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport RoomList from \"../views/RoomList.vue\";\nimport ChatBoard from \"../views/ChatBoard.vue\";\nimport LoginView from \"../views/LoginView.vue\";\nimport SignUp from \"../views/SignUp.vue\";\nimport firebase from \"@/firebase/firebase\";\n\nVue.use(VueRouter);\n\nconst routes = [\n {\n  path: \"/\",\n  name: \"RoomList\",\n  component: RoomList,\n  meta: { requiresAuth: true },\n },\n {\n  path: \"/chat\",\n  name: \"ChatBoard\",\n  component: ChatBoard,\n },\n {\n  path: \"/login\",\n  name: \"LoginView\",\n  component: LoginView,\n },\n {\n  path: \"/signup\",\n  name: \"SignUp\",\n  component: SignUp,\n },\n];\n\nconst router = new VueRouter({\n mode: \"history\",\n base: process.env.BASE_URL,\n routes,\n});\n\nrouter.beforeEach((to, from, next) => {\n const requiresAuth = to.matched.some((record) => record.meta.requiresAuth);\n if (requiresAuth) {\n  firebase.auth().onAuthStateChanged((user) => {\n   if (!user) {\n    next({\n     path: \"/login\",\n     query: { redirect: to.fullPath },\n    });\n   } else {\n    next();\n   }\n  });\n } else {\n  next();\n }\n});\n\nexport default router;\n"]},"metadata":{},"sourceType":"module"}